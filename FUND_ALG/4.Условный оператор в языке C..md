Условный оператор в языке C. Логические операции и выражения. Тернарный оператор в языке C.

## I. Условный Оператор `if-else`

Условный оператор `if-else` обеспечивает ветвление программы.

### А. Базовая Структура

1. **Простой `if`:** Выполняет блок кода, если условие истинно.
    Условие — **любое выражение**, приводимое к `int`.
    
2. **`if-else`:** Выполняет один из двух блоков кода.

    ``` c
    if (выражение_условия) {
        // Блок 1: выполняется, если условие ИСТИННО
    } else {
        // Блок 2: выполняется, если условие ЛОЖНО (нулевое)
    }
    ```
    
3. **`if-else if-else` (Каскад):** Используется для последовательной проверки нескольких не связанных условий. Проверяется до первого истинного условия.
    ``` c
    if (условие_1) {
        // Блок А
    } else if (условие_2) {
        // Блок Б (выполняется, только если условие_1 ЛОЖНО, а условие_2 ИСТИННО)
    } else {
        // Блок В (выполняется, если все предыдущие условия ЛОЖНЫ)
    }
    ```

---
Сравнение вещественных чисел - Правильно:`if (fabs(a - b) < EPS)`

---
### Б. Определение Истинности в C

В отличие от многих других языков, в C не было встроенного булевого типа до C99 (где введен `_Bool`).

- **Ложь (False):** Представляется **нулевым** значением (`0`).
- **Истина (True):** Представляется **любым ненулевым** значением (часто `1`, но может быть и $-5$, и $42$).

Таким образом, выражение внутри `if` (выражение_условия) должно быть **арифметическим выражением**.

---

## II. Логические Операции и Выражения

Логические операторы используются для объединения или инвертирования простых условий, создавая сложные логические выражения.

### А. Логические Операторы

| **Оператор** | **Название**        | **Приоритет**    | **Назначение**                             |
| ------------ | ------------------- | ---------------- | ------------------------------------------ |
| `!`          | Логическое НЕ (NOT) | Высший (Унарный) | Инвертирует логическое значение выражения. |
| `&&`         | Логическое И (AND)  | Средний          | Истинно, если **оба** операнда истинны.    |
| `\\          | Логическое ИЛИ (OR) | `                | Если хоть один истинен                     |
** можно таблицы истинности нарисовать
### Б. Особенности: Короткозамкнутая Оценка (Short-Circuit Evaluation)

Это **критически важная** особенность логических операторов `&&` и `||` в C.

**Принцип:** Компилятор вычисляет только то, что абсолютно необходимо для определения конечного результата логического выражения.

1. **Для `A && B`:**
    
    - Если `A` вычисляется как **Ложь** (`0`), компилятор **не вычисляет** `B`, поскольку результат всего выражения уже гарантированно ложен.
        
2. **Для `A || B`:**
    
    - Если `A` вычисляется как **Истина** (ненулевое), компилятор **не вычисляет** `B`, поскольку результат всего выражения уже гарантированно истинен.
        

**Практическая Значимость:** Это используется для предотвращения ошибок времени выполнения (Runtime Errors) при работе с указателями:

``` c
// Если ptr == NULL, то ptr->value не будет вычислено, избегая Segmentation Fault.
if (ptr != NULL && ptr->value > 0) { ... }
```

### В. Операторы Отношения

Эти операторы сравнивают два операнда и возвращают логический результат (0 или 1).

|**Оператор**|**Название**|**Пример**|
|---|---|---|
|`<`|Меньше|`a < b`|
|`>`|Больше|`a > b`|
|`<=`|Меньше или равно|`a <= b`|
|`>=`|Больше или равно|`a >= b`|
|`==`|Равно|`a == b` (Два знака равно!)|
|`!=`|Не равно|`a != b`|

**Важный нюанс:** Сравнение на равенство (`==`) должно быть четко отделено от оператора присваивания (`=`). Ошибка с использованием `=` вместо `==` в условии `if` является классической ошибкой в C, поскольку:

C

``` c
if (a = 5) { // Это всегда ИСТИНА, т.к. присваивание возвращает 5, а 5 != 0
    // Код выполнится
}
```

---

## III. Тернарный Оператор (Условное Выражение)

Тернарный оператор (`? :`) — это уникальный оператор в C, который позволяет писать **условные выражения** (а не операторы) в одну строку. Он является единственным оператором в C, который принимает три операнда.

### А. Структура и Назначение

Тернарный оператор используется для **присвоения значения переменной** на основе условия.

``` c
результат = (условие) ? выражение_если_ИСТИНА : выражение_если_ЛОЖЬ;
```

**Принцип работы:**

1. Вычисляется `условие`.
2. Если `условие` ИСТИННО (ненулевое), возвращается значение `выражение_если_ИСТИНА`.
3. Если `условие` ЛОЖНО (`0`), возвращается значение `выражение_если_ЛОЖЬ`.
    

**Пример 1: Выбор максимума из двух чисел**

``` c
// Вместо:
// int max;
// if (a > b) {
//     max = a;
// } else {
//     max = b;
// }

// Используем тернарный оператор:
int max = (a > b) ? a : b;
```

### Преимущества и Ограничения

- **Преимущества:** Компактность и выразительность кода, особенно при присваивании или использовании в качестве аргумента функции.
    
- **Ограничения:** Использование вложенных тернарных операторов (тернарный оператор внутри другого) крайне не рекомендуется, так как сильно ухудшает читаемость кода.